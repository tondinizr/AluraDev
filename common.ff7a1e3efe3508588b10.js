(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"2Ojh":function(t,e,o){"use strict";o.d(e,"a",function(){return n});var d=o("tk/3"),i=o("LRne"),s=o("vkgz"),r=o("JIr8"),h=o("lJxs"),c=o("fXoL");let n=(()=>{class t{constructor(t){this.http=t,this.codesUrl="api/codes",this.httpOptions={headers:new d.d({"Content-Type":"application/json"})}}getCodes(){return this.http.get(this.codesUrl).pipe(Object(s.a)(t=>this.log("fetched codes")),Object(r.a)(this.handleError("getCodes",[])))}getCodeNo404(t){return this.http.get(`${this.codesUrl}/?id=${t}`).pipe(Object(h.a)(t=>t[0]),Object(s.a)(e=>{this.log(`${e?"fetched":"did not find"} code id=${t}`)}),Object(r.a)(this.handleError(`getCode id=${t}`)))}getCode(t){return this.http.get(`${this.codesUrl}/${t}`).pipe(Object(s.a)(e=>this.log(`fetched code id=${t}`)),Object(r.a)(this.handleError(`getCode id=${t}`)))}searchCodes(t){return t.trim()?this.http.get(`${this.codesUrl}/?name=${t}`).pipe(Object(s.a)(e=>this.log(e.length?`found codes matching "${t}"`:`no codes matching "${t}"`)),Object(r.a)(this.handleError("searchCodes",[]))):Object(i.a)([])}addCode(t){return this.http.post(this.codesUrl,t,this.httpOptions).pipe(Object(s.a)(t=>this.log(`added code w/ id=${t.id}`)),Object(r.a)(this.handleError("addCode")))}deleteCode(t){return this.http.delete(`${this.codesUrl}/${t}`,this.httpOptions).pipe(Object(s.a)(e=>this.log(`deleted code id=${t}`)),Object(r.a)(this.handleError("deleteCode")))}updateCode(t){return this.http.put(this.codesUrl,t,this.httpOptions).pipe(Object(s.a)(e=>this.log(`updated code id=${t.id}`)),Object(r.a)(this.handleError("updateCode")))}handleError(t="operation",e){return o=>(console.error(o),this.log(`${t} failed: ${o.message}`),Object(i.a)(e))}log(t){console.log(`CodeService: ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(d.b))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);